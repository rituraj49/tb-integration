<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Document</title>
</head>
<body>
<!--<h2>Welcome, <span th:text="${booking}">User</span>!</h2>-->
<h2>Booking Confirmation</h2>
<p><strong>Order ID:</strong> <span th:text="${booking.orderId}">123456</span></p>
<p><strong>Total Price:</strong> <span th:text="${booking.flightOffer.totalPrice}">₹5750.00</span>
    (<span th:text="${booking.flightOffer.currencyCode}">INR</span>)</p>
<p><strong>Travelers:</strong> <span th:text="${#lists.size(booking.travelers)}"></span></p>

<hr/>

<h3>Traveler Details</h3>
<div th:each="traveler : ${booking.travelers}">
    <p>
        <strong>Name:</strong> <span th:text="${traveler.firstName + ' ' + traveler.lastName}"></span><br/>
        <strong>Gender:</strong> <span th:text="${traveler.gender}"></span><br/>
        <strong>Email:</strong> <span th:text="${traveler.email}"></span><br/>
        <strong>Date of Birth:</strong> <span th:text="${traveler.dateOfBirth}"></span>
    </p>
    <hr/>
</div>

<h3>Flight Details</h3>
<div th:each="trip : ${booking.flightOffer.trips}">
    <p>
        <strong>Route:</strong> <span th:text="${trip.from}"></span> → <span th:text="${trip.to}"></span><br/>
        <strong>Stops:</strong> <span th:text="${trip.stops}"></span><br/>
        <strong>Duration:</strong> <span th:text="${trip.totalFlightDuration}"></span><br/>
        <strong>Layover:</strong> <span th:text="${trip.totalLayoverDuration}"></span>
    </p>

    <h4>Flight Legs:</h4>
    <ul>
        <li th:each="leg : ${trip.legs}">
            <strong th:text="${leg.flightNumber}">AI203</strong>:
            <span th:text="${leg.departureAirport}"></span> (<span th:text="${leg.departureTerminal}"></span>)
            at <span th:text="${#temporals.format(leg.departureDateTime, 'yyyy-MM-dd HH:mm')}"></span>
            →
            <span th:text="${leg.arrivalAirport}"></span> (<span th:text="${leg.arrivalTerminal}"></span>)
            at <span th:text="${#temporals.format(leg.arrivalDateTime, 'yyyy-MM-dd HH:mm')}"></span>
            <br/>
            Duration: <span th:text="${leg.duration}"></span>
        </li>
    </ul>
    <hr/>
</div>

<p>Thank you for booking with us!</p>
</body>
</html>